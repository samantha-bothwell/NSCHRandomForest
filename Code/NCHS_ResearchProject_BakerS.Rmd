---
title: "NCHS_ResearchProject_BakerS"
author: "Sunderland Baker"
date: '2022-06-29'
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

``` {r upload and organize data}
library(haven)
library(dplyr)
#Uploading data from OneDrive repository.
screener_2018 <- read_sas("C:/Users/Sunderland Baker/OneDrive - Colorado College/JUNIOR YEAR/BIOS6670/NCHS Research Project/nsch_2018_screener.sas7bdat")
topical_2018 <- read_sas("C:/Users/Sunderland Baker/OneDrive - Colorado College/JUNIOR YEAR/BIOS6670/NCHS Research Project/nsch_2018_topical.sas7bdat")
screener_2019 <- read_sas("C:/Users/Sunderland Baker/OneDrive - Colorado College/JUNIOR YEAR/BIOS6670/NCHS Research Project/nsch_2019_screener.sas7bdat")
topical_2019 <- read_sas("C:/Users/Sunderland Baker/OneDrive - Colorado College/JUNIOR YEAR/BIOS6670/NCHS Research Project/nsch_2019_topical.sas7bdat")

#Data variable renaming and merging by ID.
screener_2018 <- rename(screener_2018, HHID = HHIDS)
st_2018 <- merge(screener_2018, topical_2018, by="HHID")
screener_2019 <- rename(screener_2019, HHID = HHIDS)
st_2019 <- merge(screener_2019, topical_2019, by="HHID")
st_2018$YEAR <- st_2018$YEAR.x
st_2019$YEAR <- st_2019$YEAR.x
st_2018$FIPS <- st_2018$FIPSST.x
st_2019$FIPS <- st_2019$FIPSST.x
st_2018_1 <- st_2018 %>% select(YEAR, FIPS, C_AGE_YEARS, C_HISPANIC_R, C_RACE_R, C_SEX, BMICLASS, OVERWEIGHT, PHYSACTIV, SCREENTIME, HOURSLEEP, K2Q32A, K2Q32B, K2Q32C, K2Q33A, K2Q33B, K2Q33C, C_K2Q17,C_K2Q22, TENURE.x, TOTKIDS_R.x, A1_BORN, A1_MARITAL, A1_MENTHEALTH, A1_PHYSHEALTH, ACE1, ACE4, ACE7, ACE9, HCABILITY, BIRTHWT, BREATHING, CAVITIES, DENTALSERV3, FAMILY_R, FPL_I1, HIGRADE_TVIS, HOWMUCH, INSTYPE, K10Q11, K10Q12, K10Q20, K10Q22, K10Q40_R, K10Q41_R, K11Q62, K2Q30A, K2Q40A, K2Q40C, K2Q41A, K2Q41C, K4Q20R, K4Q22_R, K4Q27, K5Q20_R, K6Q15, K6Q73_R, K7Q30, K7Q38, K8Q31, K9Q41, MAKEFRIEND, METRO_YN.x, S9Q34, SC_K2Q16, SUBABUSE, TEMPER, WGTCONC)
st_2019_1 <- st_2019 %>% select(YEAR, FIPS, C_AGE_YEARS, C_HISPANIC_R, C_RACE_R, C_SEX, BMICLASS, OVERWEIGHT, PHYSACTIV, SCREENTIME, HOURSLEEP, K2Q32A, K2Q32B, K2Q32C, K2Q33A, K2Q33B, K2Q33C, C_K2Q17,C_K2Q22, TENURE.x, TOTKIDS_R.x, A1_BORN, A1_MARITAL, A1_MENTHEALTH, A1_PHYSHEALTH, ACE1, ACE4, ACE7, ACE9, HCABILITY, BIRTHWT, BREATHING, CAVITIES, DENTALSERV3, FAMILY_R, FPL_I1, HIGRADE_TVIS, HOWMUCH, INSTYPE, K10Q11, K10Q12, K10Q20, K10Q22, K10Q40_R, K10Q41_R, K11Q62, K2Q30A, K2Q40A, K2Q40C, K2Q41A, K2Q41C, K4Q20R, K4Q22_R, K4Q27, K5Q20_R, K6Q15, K6Q73_R, K7Q30, K7Q38, K8Q31, K9Q41, MAKEFRIEND, METRO_YN.x, S9Q34, SC_K2Q16, SUBABUSE, TEMPER, WGTCONC)
#K2Q17 is pediatric disability, FIPSST.x is the FIPS code (geographic info), TENURE is how the household is owned, TOTKIDS_R is how many kids in house, A1/2_BORN is foreign-born parents, A1/2_MARITAL is parent marital status, A1/2_MENT/PHYSHEALTH is parent mental/physical health, ACE1 is food/housing insecurity, ACE4 is parental death, ACE7 is violence experienced, ACE9 is addiction prob in parent [trauma vars], HCABILITY is health affecting ability, BIRTHWT is low/norm birth weight, BREATHING is breathing difficulties, BULLIED_R is getting bullied (freq), CAVITIES is having cavities, DENTALSERV3 is getting dental care on toothbrushing, FAMILY_R is family dynamic, FPL_I1 is family-poverty ratio, HIGRADE_TVIS is the parental level of education, HOWMUCH is child's medicare costs, INSTYPE is insurance type, K10Q11 is neighborhood walking paths, K10Q12 is parks/playgrounds, K10Q20 is litter in strees, K10Q22 is rundown housing, K10Q40_R is neighborhood safety, K10Q41_R is school safety, K11Q62 is FRLP usage in school by children, K2Q30A is learning disability, K2Q40A/C is asthma/its severity, K2Q41A/C is diabetes/its severity, K4Q20_R is preventive healthcare visits, K4Q22_R is preventive mental health visits, K4Q27 is healthcare NOT received, K5Q20_R is healthcare access, K6Q15 is use of special education, K6Q73_R is behavioral resilience, K7Q30 sports involvement, K7Q38 child employment, K8Q31 is parental perceptions of child rearing, K9Q41 is smoking in house, MAKEFRIEND is child's socializability, METRO_YN is living in a metro area, S9Q33 is receiving WIC, SC_K2Q16 is disability impacting tasks, SUBABUSE is child with substance abuse, WGTCONC is parent concerned about child weight.

#Next steps: Filter just the ages 13-18 and CVD, and append by year.
data <- rbind(st_2018_1, st_2019_1)
DataOfficial <- data %>% filter(data$C_AGE_YEARS>=13 & data$C_AGE_YEARS<=18)
dim(DataOfficial)
```
